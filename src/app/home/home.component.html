<ActionBar icon="" class="" style="background: rgb(255, 123, 0);">
  <NavigationButton text="Back" android.systemIcon="ic_menu_back" (tap)="Logout()" class="black-text">
  </NavigationButton>
  <Label text="Inicio" position="center" class="medium-text black-text" textWrap="true"></Label>
  <ActionItem *ngIf="status == 'profile'" (tap)="editProfile()"
      ios.systemIcon="2" ios.position="left"
      android.systemIcon="ic_menu_edit" 
      android.position="actionBar"></ActionItem>
  <!-- <ActionItem (tap)="onDelete()"
      ios.systemIcon="16" ios.position="right"
      text="delete" android.position="popup"></ActionItem>
  <ActionItem *ngIf="ProfileOpt == true" ios.position="right" ios.position="right" class="opt-btn">
    <!-- <Button class="opt-btn black-text" text="Opciones"></Button> -->
    <!-- <Image src="~/assets/images/icons8-edit-24.png" (tap)="editProfile()"></Image>  -->
  <!-- </ActionItem> -->
</ActionBar>

<BottomNavigation selectedIndex="0">

  <!-- The bottom tab UI is created via TabStrip (the containier) and TabStripItem (for each tab)-->
  <TabStrip>
    <TabStripItem (tap)="switchView('home')" class="home black-text" style="background: rgb(255, 123, 0);">

      <Image [src]="home_actual" class="icono"></Image>
    </TabStripItem>

    <TabStripItem (tap)="switchView('search')" class="special black-text" style="background: rgb(255, 123, 0);">

      <Image [src]="search_actual" class="icono"></Image>
    </TabStripItem>

    <TabStripItem (tap)="switchView('account')" class="special black-text" style="background: rgb(255, 123, 0);">
      <Image [src]="account_actual" class="icono"></Image>
    </TabStripItem>
  </TabStrip>

  <!-- The number of TabContentItem components should corespond to the number of TabStripItem components -->
  <TabContentItem>
    <GridLayout class="page">
      <ScrollView>
      <StackLayout alignItems="center" justifyContent="center">
      <!-- <Label text="Recomendaciones para ti..." class="h3 text-center black-text"></Label>
      <Button text="Logout" (tap)="Logout()" class="btn btn-primary btn-active"></Button> -->
        
      <FlexboxLayout class="card" *ngFor="let profile of feedList" (tap)="goToProfile(profile.id)">
        <Image src="http://192.168.1.150:8000/api/storage/{{ profile.ruta }}" class="cardImg"></Image>
        <StackLayout class="card-Text">
        <Label class="card-title" text="{{ profile.name }}"></Label>
        <Label  textWrap="true" class="card-info" text="{{ profile.descripcion }}"></Label>
        <FlexboxLayout flexWrap="wrap" >
          <Label *ngFor="let data of profile.caracteristicas" class="carac" text="{{ data.name }}"></Label>
        </FlexboxLayout>
      </StackLayout>
      </FlexboxLayout>
    </StackLayout>
  </ScrollView>
    </GridLayout>
  </TabContentItem>

  <TabContentItem>
    <GridLayout class="page2">
      <StackLayout>
        <FlexboxLayout height="7%">
          <FlexboxLayout class="searchbuttons" (tap)="switchSearch('tag')">
            <Label class="h3" text="Nombre"></Label>
            <Image [src]="Loupe" height="80%"></Image>
          </FlexboxLayout>
          <FlexboxLayout class="searchbuttons" (tap)="switchSearch('nombre')">
            <Label class="h3" text="Caracteristica"></Label>
            <Image [src]="Tag" height="80%"></Image>
          </FlexboxLayout>
        </FlexboxLayout>
        <StackLayout>
          <StackLayout *ngIf="searchType=='nombre'">
            <FlexboxLayout class="busqueda" margin="10" androidElevation="12" backgroundColor="white">
              <Image src="~/assets/images/logo-app.png" class="iconmap"></Image>
              <SearchBar hint="Busca aquí" [text]="searchString" (submit)="onSubmit($event)"></SearchBar>
            </FlexboxLayout>
          </StackLayout>
          <StackLayout *ngIf="searchType=='tag'">
            <ScrollView class="list">
              <StackLayout class="item-list">
                <FlexboxLayout (tap)="pushData(item)" class="item" *ngFor="let item of checkboxData">
                  <Label [text]="item.name"> </Label>
                  <Image src="~/assets/images/addSquare.png" class="labelImg"></Image>
                </FlexboxLayout>
              </StackLayout>
            </ScrollView>
            <ScrollView class="listSelected">
              <Label class="h3" text="Seleccionado:"></Label>
              <WrapLayout orientation="horizontal" height="auto">
                <FlexboxLayout class="item" *ngFor="let a of selectedData; let i = index">
                  <Label [text]="a.name"> </Label>
                  <Image (tap)="spliceItem(i)" src="~/assets/images/removeSquare.png" class="labelImg"></Image>
                </FlexboxLayout>
                <Label class="h3" *ngIf="selectedData.length == 0"
                  text="selecciona hasta cinco características..."></Label>
                <Button *ngIf="selectedData.length > 0" height="30" (tap)="searchTag()" text="buscar"></Button>
              </WrapLayout>
            </ScrollView>
          </StackLayout>
        </StackLayout>
      </StackLayout>
    </GridLayout>
  </TabContentItem>

  <TabContentItem>
      <StackLayout class="page3">
        <StackLayout *ngIf="status == 'profile'">

          <StackLayout justifyContent="center" alignContent="center">
            <Label text="{{ dataUser.name }}" class="h2 black-text" margin="10" textAlignment="center"></Label>
            <Image src="{{ userPicture }}" class="img-header"   
            margin="7"
            androidElevation="12"></Image>
            <Label text="{{ dataUser.email }}" class="h3 black-text" margin="10" textAlignment="center"></Label>
          </StackLayout>

          <!-- <Stacklayout width="90%" orientation="horizontal">
            <Label text="Emaill:" textWrap="true" class="h3 push-top"></Label>
            <TextField [hint]="dataUser.email" [(ngModel)]="dataUser.email" editable="false" class="h3 email-field"></TextField>
          </Stacklayout> -->

          <!-- <Stacklayout width="90%" orientation="horizontal">
            <Label text="Nombre:" textWrap="true" class="h3 push-top"></Label>
            <TextField [hint]="dataUser.name" [(ngModel)]="dataUser.name" minlength="2" maxlength="60" [editable]="isEditable" class="h3 name-field"></TextField>
          </Stacklayout> -->

          <FlexboxLayout width="100%" flexDirection="column">
            <Label text="Mis interesees" textWrap="true" class="h3" style="margin-left:3%;"></Label>
            <Label text="Modificar" class="carac bold" textAlignment="center" width="90%" background="orange" color="black" (tap)="status = 'editCaracteristicas'"></Label>
          </FlexboxLayout>

          <FlexboxLayout flexWrap="wrap" class="flexstars" alignItems="center" justifyContent="center" width="100%">
            <Label *ngFor="let data of dataUser.caracteristicas" [text]="data.name" class="carac" width="100%" textAlignment="center"></Label> 
          </FlexboxLayout>

        </StackLayout>

        <StackLayout *ngIf="status == 'editCaracteristicas'">
          <GridLayout rows="* auto">
            <ScrollView row="0" orientation="vertical">
              <StackLayout orientation="vertical">
                <StackLayout class="lista-caracteristicas white">
                  <ActivityIndicator row="3" width="50" height="50" [busy]="isBusy" class="activity-indicator round" color="orange" style="z-index: 99999;"></ActivityIndicator>
                  <!-- <Label text="Puedes escoger hasta un máximo de 5 caracteristicas para comenzar, luego puedes modificarlas!" textWrap="true"></Label> -->
                  <CheckBox *ngFor="let data of checkboxData" text="{{ data.name }}" id="data.id"  checked="false" fillColor="orange" (checkedChange)="checkedChange($event, data.name, data.id)" color="black"></CheckBox>
                </StackLayout>  
              </StackLayout>
            </ScrollView>
          </GridLayout>
          
          <FlexboxLayout flexDirection="row">
            <Button flexGrow="1" text="Atrás" (tap)="status = 'profile'" class="back-btn" isEnabled="{{ BtnDispo }}"></Button>
            <Button flexGrow="1" text="Guardar cambios" class="next-btn" isEnabled="{{ BtnDispo }}"></Button>
          </FlexboxLayout>
        </StackLayout>
      </StackLayout>
  </TabContentItem>

</BottomNavigation>